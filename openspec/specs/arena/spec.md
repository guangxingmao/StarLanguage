# 擂台功能规范

## MODIFIED Requirements

### Requirement: 主题与子分区筛选
系统 SHALL 在擂台首页提供主题筛选（历史/计算机/篮球/动物）以及对应子分区筛选。

#### Scenario: 选择主题与子分区
- **WHEN** 用户选择某主题
- **THEN** 系统显示该主题的子分区标签
- **AND** 子分区筛选应用于该主题的题库

### Requirement: 单人答题计时计分
系统 SHALL 为单人答题提供倒计时、速度加分与连击加成，并在答题结束后生成成绩。

#### Scenario: 倒计时与超时判定
- **WHEN** 用户进入单人答题
- **THEN** 系统显示每题 12 秒倒计时与进度条
- **AND** 若倒计时归零，系统判定超时并进入下一题

#### Scenario: 计分规则
- **WHEN** 用户在倒计时内答对题目
- **THEN** 系统为该题加分（基础分 + 剩余秒数）
- **AND** 连续答对将触发连击加成

### Requirement: 题库结构
系统 SHALL 支持题库按主题与子分区分类，并支持按子分区出题。

#### Scenario: 子分区出题
- **WHEN** 用户选择某主题的子分区
- **THEN** 系统优先从对应子分区的题库出题

### Requirement: 本地对战
系统 SHALL 提供局域网对战模式，支持输入 IP 建立连接并展示双方进度。

#### Scenario: 局域网对战流程
- **WHEN** 用户选择“局域网对战”
- **THEN** 系统弹出输入 IP 的创建/加入弹窗
- **AND** 对方确认后开始对战并同步进度

### Requirement: 中继对战（可选）
系统 SHALL 允许通过本地中继服务完成对战连接，避免直连失败。

#### Scenario: 中继连接
- **WHEN** 用户选择“中继对战”
- **THEN** 系统连接中继服务并通过房间码进行对战

### Requirement: 排行榜
系统 SHALL 提供在线排行、个人积分排行与分区排行入口，并支持分区详情。

#### Scenario: 分区详情页
- **WHEN** 用户点击某分区榜卡片
- **THEN** 系统进入分区详情页
- **AND** 支持“总榜 + 子分区榜”的切换查看
